<?xml version="1.0" encoding="UTF-8"?>
<!--
Profile:  [OrderBot] Armorer Class Quests.
Authors:  TuckMeIntoBread, Sodimm.
Required Botbases:  Lisbeth.
Required Quest Completion:  A Realm Reborn & Heavensward Armorer Quests.
-->
<Profile>
  <Name>[OrderBot] Armorer Class Quests.</Name>
  <BehaviorDirectory>..\..\Quest Behaviors</BehaviorDirectory>
  <BehaviorDirectory>..\..\..\..\BotBases\Lisbeth</BehaviorDirectory>
  <Order>
    <If Condition="not IsQuestCompleted(67578)">
      <LogMessage Message="You haven't finished all of the Heavensward Armorer quests yet!"/>
      <WaitWhile Condition="not IsQuestCompleted(67578)"/>
    </If>
    <!-- Original Blanstyr (Level 60) -->
    <If Condition="not HasQuest(68130) and not IsQuestCompleted(68130) and IsQuestCompleted(67578) and Core.Player.ClassLevel &gt; 59">
      <If Condition="not IsOnMap(128)">
        <GetTo ZoneId="128" XYZ="-32.61968, 41.49998, 207.6733"/>
      </If>
      <NoCombatMoveTo XYZ="-32.61968, 41.49998, 207.6733"/>
      <If Condition="IsQuestAcceptQualified(68130)">
        <PickupQuest QuestId="68130" NpcId="1001000" XYZ="-32.02869, 41.49999, 208.3923"/>
      </If>
    </If>
    <If Condition="HasQuest(68130) and not IsQuestCompleted(68130) and GetQuestStep(68130) == 1">
      <If Condition="not IsOnMap(128)">
        <GetTo ZoneId="128" XYZ="-55.82686, 39.97361, 177.8225"/>
      </If>
      <NoCombatMoveTo XYZ="-55.82686, 39.97361, 177.8225"/>
      <TalkTo NpcId="1001001" XYZ="-56.44318, 39.97361, 178.7289" QuestId="68130" StepId="1"/>
    </If>
    <If Condition="HasQuest(68130) and not IsQuestCompleted(68130) and GetQuestStep(68130) == 255">
      <If Condition="not IsOnMap(128)">
        <GetTo ZoneId="128" XYZ="-31.55056, 41.49998, 207.4771"/>
      </If>
      <NoCombatMoveTo XYZ="-31.55056, 41.49998, 207.4771"/>
      <TurnIn QuestId="68130" NpcId="1001000" XYZ="-32.02869, 41.49999, 208.3923"/>
      <WaitTimer WaitTime="3"/>
    </If>
    <!-- Eastern Apprentice (Level 63) -->
    <If Condition="not HasQuest(68131) and not IsQuestCompleted(68131) and IsQuestCompleted(68130) and Core.Player.ClassLevel &gt; 62">
      <If Condition="not IsOnMap(128)">
        <GetTo ZoneId="128" XYZ="-31.55056, 41.49998, 207.4771"/>
      </If>
      <NoCombatMoveTo XYZ="-31.55056, 41.49998, 207.4771"/>
      <If Condition="IsQuestAcceptQualified(68131)">
        <PickupQuest QuestId="68131" NpcId="1001000" XYZ="-32.02869, 41.49999, 208.3923"/>
      </If>
    </If>
    <If Condition="HasQuest(68131) and not IsQuestCompleted(68131) and GetQuestStep(68131) == 1">
      <If Condition="not IsOnMap(628)">
        <GetTo ZoneId="628" XYZ="1.133246, 1.311302E-06, -51.98818"/>
      </If>
      <NoCombatMoveTo XYZ="1.133246, 1.311302E-06, -51.98818"/>
      <TalkTo NpcId="1021368" XYZ="0.07623291, 1.363456E-06, -52.17065" QuestId="68131" StepId="1"/>
    </If>
    <If Condition="HasQuest(68131) and not IsQuestCompleted(68131) and GetQuestStep(68131) == 2">
      <If Condition="not IsOnMap(628)">
        <GetTo ZoneId="628" XYZ="-129.423, -4.750015, 203.1651"/>
      </If>
      <NoCombatMoveTo XYZ="-129.423, -4.750015, 203.1651"/>
      <TalkTo NpcId="1021369" XYZ="-128.1606, -4.750018, 203.8147" QuestId="68131" StepId="2"/>
    </If>
    <If Condition="HasQuest(68131) and not IsQuestCompleted(68131) and GetQuestStep(68131) == 3">
      <If Condition="not IsOnMap(628)">
        <GetTo ZoneId="628" XYZ="-125.9425, -4.705109, 205.9559"/>
      </If>
      <NoCombatMoveTo XYZ="-125.9425, -4.705109, 205.9559"/>
      <TalkTo NpcId="1019053" XYZ="-124.5594, -4.705104, 206.4697" QuestId="68131" StepId="3"/>
    </If>
    <If Condition="HasQuest(68131) and not IsQuestCompleted(68131) and GetQuestStep(68131) == 4">
      <Lisbeth Orders="Profiles\Sodimm\Crafting\Armorer\[OrderBot] ARM 63.json"/>
      <If Condition="not IsOnMap(628)">
        <GetTo ZoneId="628" XYZ="-129.5407, -4.750016, 202.1004"/>
      </If>
      <NoCombatMoveTo XYZ="-129.5407, -4.750016, 202.1004"/>
      <HandOver ItemIds="17894" NpcId="1019052" XYZ="-128.1606, -4.750021, 202.0447" QuestId="68131" StepId="4"/>
    </If>
    <If Condition="HasQuest(68131) and not IsQuestCompleted(68131) and GetQuestStep(68131) == 255">
      <If Condition="not IsOnMap(628)">
        <GetTo ZoneId="628" XYZ="-129.5407, -4.750016, 202.1004"/>
      </If>
      <NoCombatMoveTo XYZ="-129.5407, -4.750016, 202.1004"/>
      <TurnIn QuestId="68131" NpcId="1021369" XYZ="-128.1606, -4.750018, 203.8147"/>
      <WaitTimer WaitTime="3"/>
    </If>
    <!-- Forging with Scales (Level 65) -->
    <If Condition="not HasQuest(68132) and not IsQuestCompleted(68132) and IsQuestCompleted(68131) and Core.Player.ClassLevel &gt; 64">
      <If Condition="not IsOnMap(628)">
        <GetTo ZoneId="628" XYZ="-129.5407, -4.750016, 202.1004"/>
      </If>
      <NoCombatMoveTo XYZ="-129.5407, -4.750016, 202.1004"/>
      <If Condition="IsQuestAcceptQualified(68132)">
        <PickupQuest QuestId="68132" NpcId="1021369" XYZ="-128.1606, -4.750018, 203.8147"/>
      </If>
    </If>
    <If Condition="HasQuest(68132) and not IsQuestCompleted(68132) and GetQuestStep(68132) == 1">
      <If Condition="not IsOnMap(628)">
        <GetTo ZoneId="628" XYZ="-129.5407, -4.750016, 202.1004"/>
      </If>
      <NoCombatMoveTo XYZ="-129.5407, -4.750016, 202.1004"/>
      <TalkTo NpcId="1019052" XYZ="-128.1606, -4.750021, 202.0447" QuestId="68132" StepId="1"/>
    </If>
    <If Condition="HasQuest(68132) and not IsQuestCompleted(68132) and GetQuestStep(68132) == 2">
      <If Condition="not IsOnMap(628)">
        <GetTo ZoneId="628" XYZ="106.4243, 15, -127.8417"/>
      </If>
      <NoCombatMoveTo XYZ="106.4243, 15, -127.8417"/>
      <TalkTo NpcId="1021371" XYZ="105.1499, 15, -128.2521" QuestId="68132" StepId="2"/>
    </If>
    <If Condition="HasQuest(68132) and not IsQuestCompleted(68132) and GetQuestStep(68132) == 3">
      <If Condition="not IsOnMap(628)">
        <GetTo ZoneId="628" XYZ="-125.9216, -4.705109, 205.915"/>
      </If>
      <NoCombatMoveTo XYZ="-125.9216, -4.705109, 205.915"/>
      <TalkTo NpcId="1019053" XYZ="-124.5594, -4.705104, 206.4697" QuestId="68132" StepId="3"/>
    </If>
    <If Condition="HasQuest(68132) and not IsQuestCompleted(68132) and GetQuestStep(68132) == 255">
      <Lisbeth Orders="Profiles\Sodimm\Crafting\Armorer\[OrderBot] ARM 65.json"/>
      <If Condition="not IsOnMap(628)">
        <GetTo ZoneId="628" XYZ="-129.2014, -4.750015, 203.3975"/>
      </If>
      <NoCombatMoveTo XYZ="-129.2014, -4.750015, 203.3975"/>
      <TurnIn ItemIds="17896" QuestId="68132" NpcId="1021369" XYZ="-128.1606, -4.750018, 203.8147"/>
      <WaitTimer WaitTime="3"/>
    </If>
    <!-- Head-to-head Contest (Level 68) -->
    <If Condition="not HasQuest(68133) and not IsQuestCompleted(68133) and IsQuestCompleted(68132) and Core.Player.ClassLevel &gt; 67">
      <If Condition="not IsOnMap(628)">
        <GetTo ZoneId="628" XYZ="-129.2014, -4.750015, 203.3975"/>
      </If>
      <NoCombatMoveTo XYZ="-129.2014, -4.750015, 203.3975"/>
      <If Condition="IsQuestAcceptQualified(68133)">
        <PickupQuest QuestId="68133" NpcId="1019052" XYZ="-128.1606, -4.750021, 202.0447"/>
      </If>
    </If>
    <If Condition="HasQuest(68133) and not IsQuestCompleted(68133) and GetQuestStep(68133) == 1">
      <If Condition="not IsOnMap(628)">
        <GetTo ZoneId="628" XYZ="-3.835736, -2.026558E-06, -50.92547"/>
      </If>
      <NoCombatMoveTo XYZ="-3.835736, -2.026558E-06, -50.92547"/>
      <TalkTo NpcId="1021372" XYZ="-4.867676, -2.168119E-06, -50.98041" QuestId="68133" StepId="1"/>
    </If>
    <If Condition="HasQuest(68133) and not IsQuestCompleted(68133) and GetQuestStep(68133) == 2">
      <If Condition="not IsOnMap(628)">
        <GetTo ZoneId="628" XYZ="-126.287, -4.750021, 205.9134"/>
      </If>
      <NoCombatMoveTo XYZ="-126.287, -4.750021, 205.9134"/>
      <TalkTo NpcId="1019053" XYZ="-124.5594, -4.705104, 206.4697" QuestId="68133" StepId="2"/>
    </If>
    <If Condition="HasQuest(68133) and not IsQuestCompleted(68133) and GetQuestStep(68133) == 3">
      <If Condition="HasQuest(68133) and GetQuestById(68133).QuestI8AH == 0">
        <If Condition="not IsOnMap(628)">
          <GetTo ZoneId="628" XYZ="106.2972, 15, -127.8206"/>
        </If>
        <NoCombatMoveTo XYZ="106.2972, 15, -127.8206"/>
        <TalkTo NpcId="1021371" XYZ="105.1499, 15, -128.2521" QuestId="68133" StepId="3"/>
      </If>
      <If Condition="HasQuest(68133) and GetQuestById(68133).QuestI8AH == 1">
        <If Condition="not IsOnMap(628)">
          <GetTo ZoneId="628" XYZ="-39.07859, 5.986698, -150.8976"/>
        </If>
        <NoCombatMoveTo XYZ="-39.07859, 5.986698, -150.8976"/>
        <TalkTo NpcId="1021370" XYZ="-40.02448, 5.981403, -151.1712" QuestId="68133" StepId="3"/>
      </If>
    </If>
    <If Condition="HasQuest(68133) and not IsQuestCompleted(68133) and GetQuestStep(68133) == 4">
      <If Condition="not IsOnMap(628)">
        <GetTo ZoneId="628" XYZ="-126.1483, -4.750021, 205.964"/>
      </If>
      <NoCombatMoveTo XYZ="-126.1483, -4.750021, 205.964"/>
      <TalkTo NpcId="1019053" XYZ="-124.5594, -4.705104, 206.4697" QuestId="68133" StepId="4"/>
    </If>
    <If Condition="HasQuest(68133) and not IsQuestCompleted(68133) and GetQuestStep(68133) == 255">
      <Lisbeth Orders="Profiles\Sodimm\Crafting\Armorer\[OrderBot] ARM 68.json"/>
      <If Condition="not IsOnMap(628)">
        <GetTo ZoneId="628" XYZ="-129.3481, -4.750015, 203.0172"/>
      </If>
      <NoCombatMoveTo XYZ="-129.3481, -4.750015, 203.0172"/>
      <TurnIn ItemIds="17898" QuestId="68133" NpcId="1019052" XYZ="-128.1606, -4.750021, 202.0447"/>
      <WaitTimer WaitTime="3"/>
    </If>
    <!-- A Confluence of Style (Level 70) -->
    <If Condition="not HasQuest(68134) and not IsQuestCompleted(68134) and IsQuestCompleted(68133) and Core.Player.ClassLevel &gt; 69">
      <If Condition="not IsOnMap(628)">
        <GetTo ZoneId="628" XYZ="-129.3481, -4.750015, 203.0172"/>
      </If>
      <NoCombatMoveTo XYZ="-129.3481, -4.750015, 203.0172"/>
      <If Condition="IsQuestAcceptQualified(68134)">
        <PickupQuest QuestId="68134" NpcId="1021369" XYZ="-128.1606, -4.750018, 203.8147"/>
      </If>
    </If>
    <If Condition="HasQuest(68134) and not IsQuestCompleted(68134) and GetQuestStep(68134) == 1">
      <If Condition="not IsOnMap(628)">
        <GetTo ZoneId="628" XYZ="-143.7332, -4.999999, 153.7865"/>
      </If>
      <NoCombatMoveTo XYZ="-143.7332, -4.999999, 153.7865"/>
      <TalkTo NpcId="1021376" XYZ="-144.03, -4.999999, 152.4224" QuestId="68134" StepId="1"/>
    </If>
    <If Condition="HasQuest(68134) and not IsQuestCompleted(68134) and GetQuestStep(68134) == 2">
      <If Condition="not IsOnMap(628)">
        <GetTo ZoneId="628" XYZ="-125.6815, -4.705108, 206.084"/>
      </If>
      <NoCombatMoveTo XYZ="-125.6815, -4.705108, 206.084"/>
      <TalkTo NpcId="1019053" XYZ="-124.5594, -4.705104, 206.4697" QuestId="68134" StepId="2"/>
    </If>
    <If Condition="HasQuest(68134) and not IsQuestCompleted(68134) and GetQuestStep(68134) == 3">
      <Lisbeth Orders="Profiles\Sodimm\Crafting\Armorer\[OrderBot] ARM 70.json"/>
      <If Condition="not IsOnMap(628)">
        <GetTo ZoneId="628" XYZ="-143.7726, -4.999999, 153.462"/>
      </If>
      <NoCombatMoveTo XYZ="-143.7726, -4.999999, 153.462"/>
      <HandOver ItemIds="17900" NpcId="1021376" XYZ="-144.03, -4.999999, 152.4224" QuestId="68134" StepId="3"/>
    </If>
    <If Condition="HasQuest(68134) and not IsQuestCompleted(68134) and GetQuestStep(68134) == 4">
      <If Condition="not IsOnMap(628)">
        <GetTo ZoneId="628" XYZ="-129.373, -4.750015, 203.3746"/>
      </If>
      <NoCombatMoveTo XYZ="-129.373, -4.750015, 203.3746"/>
      <TalkTo NpcId="1021369" XYZ="-128.1606, -4.750018, 203.8147" QuestId="68134" StepId="4"/>
    </If>
    <If Condition="HasQuest(68134) and not IsQuestCompleted(68134) and GetQuestStep(68134) == 255">
      <If Condition="not IsOnMap(128)">
        <GetTo ZoneId="128" XYZ="-31.87518, 41.49998, 207.5554"/>
      </If>
      <NoCombatMoveTo XYZ="-31.87518, 41.49998, 207.5554"/>
      <TurnIn QuestId="68134" NpcId="1001000" XYZ="-32.02869, 41.49999, 208.3923"/>
    </If>
  </Order>
</Profile>
