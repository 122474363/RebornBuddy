<?xml version="1.0" encoding="UTF-8"?>
<!--
Profile:  [OrderBot] Carpenter Class Quests.
Authors:  TuckMeIntoBread, Sodimm.
Required Botbases:  Lisbeth.
Required Quest Completion:  A Realm Reborn & Heavensward Carpenter Quests.
-->
<Profile>
  <Name>[OrderBot] Carpenter Class Quests.</Name>
  <BehaviorDirectory>..\..\Quest Behaviors</BehaviorDirectory>
  <BehaviorDirectory>..\..\..\..\BotBases\Lisbeth</BehaviorDirectory>
  <Order>
    <If Condition="not IsQuestCompleted(67537)">
      <LogMessage Message="You haven't finished all of the Heavensward Carpenter quests yet!"/>
      <WaitWhile Condition="not IsQuestCompleted(67537)"/>
    </If>
    <!-- Uncharted Territory (Level 60) -->
    <If Condition="not HasQuest(67977) and not IsQuestCompleted(67977) and IsQuestCompleted(67537) and Core.Player.ClassLevel &gt; 59">
      <If Condition="not IsOnMap(132)">
        <GetTo ZoneId="132" XYZ="-45.0408, -1.250016, 58.37101"/>
      </If>
      <NoCombatMoveTo XYZ="-45.0408, -1.250016, 58.37101"/>
      <If Condition="IsQuestAcceptQualified(67977)">
        <PickupQuest QuestId="67977" NpcId="1000153" XYZ="-44.87683, -1.250002, 56.83984"/>
      </If>
    </If>
    <If Condition="HasQuest(67977) and not IsQuestCompleted(67977) and GetQuestStep(67977) == 1">
      <If Condition="not IsOnMap(132)">
        <GetTo ZoneId="132" XYZ="-22.00138, -3.25, 35.37772"/>
      </If>
      <NoCombatMoveTo XYZ="-22.00138, -3.25, 35.37772"/>
      <TalkTo NpcId="1020901" XYZ="-22.87329, -3.25, 35.20251" QuestId="67977" StepId="1"/>
    </If>
    <If Condition="HasQuest(67977) and not IsQuestCompleted(67977) and GetQuestStep(67977) == 2">
      <If Condition="not IsOnMap(132)">
        <GetTo ZoneId="132" XYZ="30.89977, -8, 111.3071"/>
      </If>
      <If Condition="GetQuestById(67977).GetTodoArgs(2, 0).Item1 == 0">
        <NoCombatMoveTo XYZ="30.89977, -8, 111.3071"/>
        <TalkTo NpcId="1000384" XYZ="30.80798, -8, 112.2301" QuestId="67977" StepId="2"/>
        <WaitWhile Condition="GetQuestById(67977).GetTodoArgs(2, 0).Item1 == 0"/>
      </If>
      <If Condition="GetQuestById(67977).GetTodoArgs(2, 0).Item1 == 1">
        <NoCombatMoveTo XYZ="33.58922, -8, 117.6779"/>
        <TalkTo NpcId="1000139" XYZ="33.73767, -8, 118.5474" QuestId="67977" StepId="2"/>
        <WaitWhile Condition="GetQuestById(67977).GetTodoArgs(2, 0).Item1 == 1"/>
      </If>
      <If Condition="GetQuestById(67977).GetTodoArgs(2, 0).Item1 == 2">
        <NoCombatMoveTo XYZ="34.2773, -18.8, 95.46662"/>
        <TalkTo NpcId="1000140" XYZ="33.58508, -18.81439, 94.49902" QuestId="67977" StepId="2"/>
        <WaitWhile Condition="GetQuestById(67977).GetTodoArgs(2, 0).Item1 == 2"/>
      </If>
    </If>
    <If Condition="HasQuest(67977) and not IsQuestCompleted(67977) and GetQuestStep(67977) == 3">
      <If Condition="not IsOnMap(132)">
        <GetTo ZoneId="132" XYZ="26.31469, -8, 102.1364"/>
      </If>
      <NoCombatMoveTo XYZ="26.31469, -8, 102.1364"/>
      <TalkTo NpcId="1020902" XYZ="25.46729, -8, 102.037" QuestId="67977" StepId="3"/>
    </If>
    <If Condition="HasQuest(67977) and not IsQuestCompleted(67977) and GetQuestStep(67977) == 255">
      <If Condition="not IsOnMap(132)">
        <GetTo ZoneId="132" XYZ="-45.10997, -1.250017, 57.86028"/>
      </If>
      <NoCombatMoveTo XYZ="-45.10997, -1.250017, 57.86028"/>
      <TurnIn QuestId="67977" NpcId="1000153" XYZ="-44.87683, -1.250002, 56.83984"/>
      <WaitTimer WaitTime="3"/>
    </If>
    <!-- The Game of Confidence (Level 63) -->
    <If Condition="not HasQuest(67978) and not IsQuestCompleted(67978) and IsQuestCompleted(67977) and Core.Player.ClassLevel &gt; 62">
      <If Condition="not IsOnMap(132)">
        <GetTo ZoneId="132" XYZ="-45.10997, -1.250017, 57.86028"/>
      </If>
      <NoCombatMoveTo XYZ="-45.10997, -1.250017, 57.86028"/>
      <If Condition="IsQuestAcceptQualified(67978)">
        <PickupQuest QuestId="67978" NpcId="1000153" XYZ="-44.87683, -1.250002, 56.83984"/>
      </If>
    </If>
    <If Condition="HasQuest(67978) and not IsQuestCompleted(67978) and GetQuestStep(67978) == 1">
      <If Condition="not IsOnMap(628)">
        <GetTo ZoneId="628" XYZ="-46.4557, 3.013504, -69.9194"/>
      </If>
      <NoCombatMoveTo XYZ="-46.4557, 3.013504, -69.9194"/>
      <TalkTo NpcId="1020903" XYZ="-46.95203, 3.013504, -69.0166" QuestId="67978" StepId="1"/>
    </If>
    <If Condition="HasQuest(67978) and not IsQuestCompleted(67978) and GetQuestStep(67978) == 2">
      <If Condition="not IsOnMap(628)">
        <GetTo ZoneId="628" XYZ="44.50636, 4.000001, 85.82306"/>
      </If>
      <NoCombatMoveTo XYZ="44.50636, 4.000001, 85.82306"/>
      <TalkTo NpcId="1020904" XYZ="45.48706, 4.000001, 85.34363" QuestId="67978" StepId="2"/>
    </If>
    <If Condition="HasQuest(67978) and not IsQuestCompleted(67978) and GetQuestStep(67978) == 3">
      <If Condition="not IsOnMap(628)">
        <GetTo ZoneId="628" XYZ="31.49495, 4.000001, 52.55272"/>
      </If>
      <If Condition="GetQuestById(67978).GetTodoArgs(3, 0).Item1 == 0">
        <NoCombatMoveTo XYZ="31.49495, 4.000001, 52.55272"/>
        <TalkTo NpcId="1020906" XYZ="31.44885, 4.000001, 51.80432" QuestId="67978" StepId="3"/>
        <WaitWhile Condition="GetQuestById(67977).GetTodoArgs(3, 0).Item1 == 0"/>
      </If>
      <If Condition="GetQuestById(67978).GetTodoArgs(3, 0).Item1 == 1">
        <NoCombatMoveTo XYZ="54.80767, 4, 69.25572"/>
        <TalkTo NpcId="1020907" XYZ="55.00867, 4.05, 69.84058" QuestId="67978" StepId="3"/>
        <WaitWhile Condition="GetQuestById(67977).GetTodoArgs(3, 0).Item1 == 1"/>
      </If>
      <If Condition="GetQuestById(67978).GetTodoArgs(3, 0).Item1 == 2">
        <NoCombatMoveTo XYZ="74.19947, 4, 54.21334"/>
        <TalkTo NpcId="1020908" XYZ="75.45581, 4.05, 52.90295" QuestId="67978" StepId="3"/>
        <WaitWhile Condition="GetQuestById(67977).GetTodoArgs(3, 0).Item1 == 2"/>
      </If>
    </If>
    <If Condition="HasQuest(67978) and not IsQuestCompleted(67978) and GetQuestStep(67978) == 4">
      <If Condition="not IsOnMap(628)">
        <GetTo ZoneId="628" XYZ="-46.50515, 3.013504, -70.01102"/>
      </If>
      <NoCombatMoveTo XYZ="-46.50515, 3.013504, -70.01102"/>
      <SoTalkTo NpcId="1020903" XYZ="-46.95203, 3.013504, -69.0166" QuestId="67978" StepId="4" DialogOption="1"/>
    </If>
    <If Condition="HasQuest(67978) and not IsQuestCompleted(67978) and GetQuestStep(67978) == 5">
      <Lisbeth Orders="\Profiles\Sodimm\Crafting\Carpenter\[OrderBot] CRP 63.json"/>
      <WaitTimer WaitTime="3"/>
      <StopCrafting/>
      <If Condition="not IsOnMap(628)">
        <GetTo ZoneId="628" XYZ="-47.7025, 3.013503, -74.11468"/>
      </If>
      <NoCombatMoveTo XYZ="-47.7025, 3.013503, -74.11468"/>
      <HandOver ItemIds="17878" NpcId="1020909" XYZ="-46.40277, 3.013503, -74.72345" QuestId="67978" StepId="5"/>
    </If>
    <If Condition="HasQuest(67978) and not IsQuestCompleted(67978) and GetQuestStep(67978) == 255">
      <If Condition="not IsOnMap(628)">
        <GetTo ZoneId="628" XYZ="-46.65266, 3.013504, -69.99533"/>
      </If>
      <NoCombatMoveTo XYZ="-46.65266, 3.013504, -69.99533"/>
      <TurnIn QuestId="67978" NpcId="1020903" XYZ="-46.95203, 3.013504, -69.0166"/>
      <WaitTimer WaitTime="3"/>
    </If>
    <!-- A Lesson in Listening (Level 65) -->
    <If Condition="not HasQuest(67979) and not IsQuestCompleted(67979) and IsQuestCompleted(67978) and Core.Player.ClassLevel &gt; 64">
      <If Condition="not IsOnMap(628)">
        <GetTo ZoneId="628" XYZ="-46.65266, 3.013504, -69.99533"/>
      </If>
      <NoCombatMoveTo XYZ="-46.65266, 3.013504, -69.99533"/>
      <If Condition="IsQuestAcceptQualified(67979)">
        <PickupQuest QuestId="67979" NpcId="1020903" XYZ="-46.95203, 3.013504, -69.0166"/>
      </If>
    </If>
    <If Condition="HasQuest(67979) and not IsQuestCompleted(67979) and GetQuestStep(67979) == 1">
      <If Condition="not IsOnMap(628)">
        <GetTo ZoneId="628" XYZ="-1.756881, 4.768372E-07, -77.39175"/>
      </If>
      <NoCombatMoveTo XYZ="-1.756881, 4.768372E-07, -77.39175"/>
      <TalkTo NpcId="1020910" XYZ="-1.175049, 1.266599E-07, -78.04993" QuestId="67979" StepId="1"/>
    </If>
    <If Condition="HasQuest(67979) and not IsQuestCompleted(67979) and GetQuestStep(67979) == 2">
      <If Condition="not IsOnMap(628)">
        <GetTo ZoneId="628" XYZ="-12.33821, 7.152557E-07, -85.17715"/>
      </If>
      <If Condition="GetQuestById(67979).GetTodoArgs(2, 0).Item1 == 0">
        <NoCombatMoveTo XYZ="-12.33821, 7.152557E-07, -85.17715"/>
        <TalkTo NpcId="1020912" XYZ="-13.07703, 0.25, -86.22876" QuestId="67979" StepId="2"/>
        <WaitWhile Condition="GetQuestById(67979).GetTodoArgs(2, 0).Item1 == 0"/>
      </If>
      <If Condition="GetQuestById(67979).GetTodoArgs(2, 0).Item1 == 1">
        <NoCombatMoveTo XYZ="1.974976, 0, -68.85121"/>
        <TalkTo NpcId="1019063" XYZ="3.341675, 7.450581E-09, -67.73486" QuestId="67979" StepId="2"/>
        <WaitWhile Condition="GetQuestById(67979).GetTodoArgs(2, 0).Item1 == 1"/>
      </If>
      <If Condition="GetQuestById(67979).GetTodoArgs(2, 0).Item1 == 2">
        <NoCombatMoveTo XYZ="10.14571, 0, -75.16724"/>
        <TalkTo NpcId="1019062" XYZ="9.506287, 0, -76.12726" QuestId="67979" StepId="2"/>
        <WaitWhile Condition="GetQuestById(67979).GetTodoArgs(2, 0).Item1 == 2"/>
      </If>
    </If>
    <If Condition="HasQuest(67979) and not IsQuestCompleted(67979) and GetQuestStep(67979) == 3">
      <If Condition="not IsOnMap(628)">
        <GetTo ZoneId="628" XYZ="-45.9142, 3.013504, -69.86348"/>
      </If>
      <NoCombatMoveTo XYZ="-45.9142, 3.013504, -69.86348"/>
      <SoTalkTo NpcId="1020903" XYZ="-46.95203, 3.013504, -69.0166" QuestId="67979" StepId="3" DialogOption="2"/>
    </If>
    <If Condition="HasQuest(67979) and not IsQuestCompleted(67979) and GetQuestStep(67979) == 4">
      <Lisbeth Orders="\Profiles\Sodimm\Crafting\Carpenter\[OrderBot] CRP 65.json"/>
      <WaitTimer WaitTime="3"/>
      <StopCrafting/>
      <If Condition="not IsOnMap(628)">
        <GetTo ZoneId="628" XYZ="-0.6076822, -1.192093E-07, -78.38664"/>
      </If>
      <NoCombatMoveTo XYZ="-0.6076822, -1.192093E-07, -78.38664"/>
      <HandOver ItemIds="17880" NpcId="1019061" XYZ="-0.04577637, 0, -80.8576" QuestId="67979" StepId="4"/>
    </If>
    <If Condition="HasQuest(67979) and not IsQuestCompleted(67979) and GetQuestStep(67979) == 255">
      <If Condition="not IsOnMap(628)">
        <GetTo ZoneId="628" XYZ="-50.98821, -2.9, -51.92702"/>
      </If>
      <NoCombatMoveTo XYZ="-50.98821, -2.9, -51.92702"/>
      <TurnIn QuestId="67979" NpcId="1020994" XYZ="-51.89594, -2.9, -50.91937"/>
      <WaitTimer WaitTime="3"/>
    </If>
    <!-- Live and Let Dine (Level 68) -->
    <If Condition="not HasQuest(67980) and not IsQuestCompleted(67980) and IsQuestCompleted(67979) and Core.Player.ClassLevel &gt; 67">
      <If Condition="not IsOnMap(628)">
        <GetTo ZoneId="628" XYZ="-48.06082, -2.9, -52.78751"/>
      </If>
      <NoCombatMoveTo XYZ="-48.06082, -2.9, -52.78751"/>
      <If Condition="IsQuestAcceptQualified(67980)">
        <PickupQuest QuestId="67980" NpcId="1019002" XYZ="-48.05072, -2.9, -50.24799"/>
      </If>
    </If>
    <If Condition="HasQuest(67980) and not IsQuestCompleted(67980) and GetQuestStep(67980) == 1">
      <If Condition="not IsOnMap(614)">
        <GetTo ZoneId="614" XYZ="480.8924, 57.41007, -167.5075"/>
      </If>
      <NoCombatMoveTo XYZ="480.8924, 57.41007, -167.5075"/>
      <TalkTo NpcId="1020913" XYZ="480.949, 57.51844, -168.4749" QuestId="67980" StepId="1"/>
    </If>
    <If Condition="HasQuest(67980) and not IsQuestCompleted(67980) and GetQuestStep(67980) == 2">
      <If Condition="not IsOnMap(614)">
        <GetTo ZoneId="614" XYZ="466.0222, 68.22433, -119.8152"/>
      </If>
      <NoCombatMoveTo XYZ="466.0222, 68.22433, -119.8152"/>
      <TalkTo NpcId="1019279" XYZ="466.4835, 68.22433, -120.7447" QuestId="67980" StepId="2"/>
    </If>
    <If Condition="HasQuest(67980) and not IsQuestCompleted(67980) and GetQuestStep(67980) == 3">
      <If Condition="not IsOnMap(614)">
        <GetTo ZoneId="614" XYZ="467.596, 68.02505, -94.73309"/>
      </If>
      <If Condition="GetQuestById(67980).GetTodoArgs(3, 0).Item1 == 0">
        <NoCombatMoveTo XYZ="467.596, 68.02505, -94.73309"/>
        <TalkTo NpcId="1019257" XYZ="468.5587, 68.02771, -93.21747" QuestId="67980" StepId="3"/>
        <WaitWhile Condition="GetQuestById(67980).GetTodoArgs(3, 0).Item1 == 0"/>
      </If>
      <If Condition="GetQuestById(67980).GetTodoArgs(3, 0).Item1 == 1">
        <NoCombatMoveTo XYZ="394.8227, 72.07918, -83.17698"/>
        <TalkTo NpcId="1019256" XYZ="394.7356, 72.07918, -81.77313" QuestId="67980" StepId="3"/>
        <WaitWhile Condition="GetQuestById(67980).GetTodoArgs(3, 0).Item1 == 1"/>
      </If>
      <If Condition="GetQuestById(67980).GetTodoArgs(3, 0).Item1 == 2">
        <NoCombatMoveTo XYZ="369.4804, 84.94711, -201.8471"/>
        <TalkTo NpcId="1019258" XYZ="368.4595, 85.00467, -202.8077" QuestId="67980" StepId="3"/>
        <WaitWhile Condition="GetQuestById(67980).GetTodoArgs(3, 0).Item1 == 2"/>
      </If>
    </If>
    <If Condition="HasQuest(67980) and not IsQuestCompleted(67980) and GetQuestStep(67980) == 4">
      <If Condition="not IsOnMap(614)">
        <GetTo ZoneId="614" XYZ="481.0121, 57.41946, -167.716"/>
      </If>
      <NoCombatMoveTo XYZ="481.0121, 57.41946, -167.716"/>
      <SoTalkTo NpcId="1020913" XYZ="480.949, 57.51844, -168.4749" QuestId="67980" StepId="4" DialogOption="2"/>
    </If>
    <If Condition="HasQuest(67980) and not IsQuestCompleted(67980) and GetQuestStep(67980) == 5">
      <Lisbeth Orders="\Profiles\Sodimm\Crafting\Carpenter\[OrderBot] CRP 68.json"/>
      <WaitTimer WaitTime="3"/>
      <StopCrafting/>
      <If Condition="not IsOnMap(614)">
        <GetTo ZoneId="614" XYZ="466.6603, 68.22433, -119.884"/>
      </If>
      <NoCombatMoveTo XYZ="466.6603, 68.22433, -119.884"/>
      <HandOver ItemIds="17882" NpcId="1019279" XYZ="466.4835, 68.22433, -120.7447" QuestId="67980" StepId="5"/>
    </If>
    <If Condition="HasQuest(67980) and not IsQuestCompleted(67980) and GetQuestStep(67980) == 6">
      <GetTo ZoneId="132" XYZ="-11.86295, -3.25, 35.07083"/>
      <NoCombatMoveTo XYZ="-11.86295, -3.25, 35.07083"/>
      <WaitWhile Condition="GetQuestStep(67980) == 6"/>
    </If>
    <If Condition="HasQuest(67980) and not IsQuestCompleted(67980) and GetQuestStep(67980) == 255">
      <If Condition="not IsOnMap(132)">
        <GetTo ZoneId="132" XYZ="-22.08097, -3.25, 35.43846"/>
      </If>
      <NoCombatMoveTo XYZ="-22.08097, -3.25, 35.43846"/>
      <TurnIn QuestId="67980" NpcId="1020901" XYZ="-22.87329, -3.25, 35.20251"/>
      <WaitTimer WaitTime="3"/>
    </If>
    <!-- Tea Party Rules (Level 70) -->
    <If Condition="not HasQuest(67981) and not IsQuestCompleted(67981) and IsQuestCompleted(67980) and Core.Player.ClassLevel &gt; 69">
      <If Condition="not IsOnMap(132)">
        <GetTo ZoneId="132" XYZ="-22.18031, -3.25, 35.30078"/>
      </If>
      <NoCombatMoveTo XYZ="-22.18031, -3.25, 35.30078"/>
      <If Condition="IsQuestAcceptQualified(67981)">
        <PickupQuest QuestId="67981" NpcId="1020901" XYZ="-22.87329, -3.25, 35.20251"/>
      </If>
    </If>
    <If Condition="HasQuest(67981) and not IsQuestCompleted(67981) and GetQuestStep(67981) == 1">
      <If Condition="not IsOnMap(132)">
        <GetTo ZoneId="132" XYZ="-44.8852, -1.250004, 57.72015"/>
      </If>
      <NoCombatMoveTo XYZ="-44.8852, -1.250004, 57.72015"/>
      <TalkTo NpcId="1000153" XYZ="-44.87683, -1.250002, 56.83984" QuestId="67981" StepId="1"/>
    </If>
    <If Condition="HasQuest(67981) and not IsQuestCompleted(67981) and GetQuestStep(67981) == 2">
      <If Condition="not IsOnMap(132)">
        <GetTo ZoneId="132" XYZ="-68.87189, -1.963174, 22.31291"/>
      </If>
      <NoCombatMoveTo XYZ="-68.87189, -1.963174, 22.31291"/>
      <TalkTo NpcId="1020917" XYZ="-69.47443, -1.903866, 22.75116" QuestId="67981" StepId="2"/>
    </If>
    <If Condition="HasQuest(67981) and not IsQuestCompleted(67981) and GetQuestStep(67981) == 3">
      <If Condition="not IsOnMap(133)">
        <GetTo ZoneId="133" XYZ="-146.9552, 7.680779, -132.6617"/>
      </If>
      <NoCombatMoveTo XYZ="-146.9552, 7.680779, -132.6617"/>
      <TalkTo NpcId="1020918" XYZ="-147.6616, 7.702551, -132.2805" QuestId="67981" StepId="3"/>
    </If>
    <If Condition="HasQuest(67981) and not IsQuestCompleted(67981) and GetQuestStep(67981) == 4">
      <If Condition="not IsOnMap(132)">
        <GetTo ZoneId="132" XYZ="-45.05016, -1.250016, 57.89428"/>
      </If>
      <NoCombatMoveTo XYZ="-45.05016, -1.250016, 57.89428"/>
      <SoTalkTo NpcId="1000153" XYZ="-44.87683, -1.250002, 56.83984" QuestId="67981" StepId="4" DialogOption="1"/>
    </If>
    <If Condition="HasQuest(67981) and not IsQuestCompleted(67981) and GetQuestStep(67981) == 5">
      <Lisbeth Orders="\Profiles\Sodimm\Crafting\Carpenter\[OrderBot] CRP 70.json"/>
      <WaitTimer WaitTime="3"/>
      <StopCrafting/>
      <If Condition="not IsOnMap(132)">
        <GetTo ZoneId="132" XYZ="-46.23624, -1.250003, 54.72165"/>
      </If>
      <NoCombatMoveTo XYZ="-46.23624, -1.250003, 54.72165"/>
      <HandOver ItemIds="17884" NpcId="1020916" XYZ="-45.76184, -1.250005, 53.91003" QuestId="67981" StepId="5"/>
    </If>
    <If Condition="HasQuest(67981) and not IsQuestCompleted(67981) and GetQuestStep(67981) == 6">
      <If Condition="not IsOnMap(133)">
        <GetTo ZoneId="133" XYZ="-33.32317, 10.30855, -249.344"/>
      </If>
      <NoCombatMoveTo XYZ="-33.32317, 10.30855, -249.344"/>
      <TalkTo NpcId="1020920" XYZ="-32.02869, 10.20999, -249.1035" QuestId="67981" StepId="6"/>
    </If>
    <If Condition="HasQuest(67981) and not IsQuestCompleted(67981) and GetQuestStep(67981) == 255">
      <If Condition="not IsOnMap(132)">
        <GetTo ZoneId="132" XYZ="-45.06167, -1.250014, 57.76295"/>
      </If>
      <NoCombatMoveTo XYZ="-45.06167, -1.250014, 57.76295"/>
      <TurnIn QuestId="67981" NpcId="1000153" XYZ="-44.87683, -1.250002, 56.83984"/>
    </If>
  </Order>
</Profile>
